<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>修改密码</title>
    <meta id="viewport" name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="css/weui.min.css">
    <link rel="stylesheet" type="text/css" href="css/jquery-weui.min.css">
    <link rel="stylesheet" type="text/css" href="font/iconfont.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body class="xgmm iconfont">

  <div class="weui-flex header bg_gg pd_rl15 box_s clearfix">
	  <a href="javascript:history.go(-1);" class="header_l fl fs16 col_f"><em class="fs20">&#xe647;</em>返回</a>
	  <div class="weui-flex__item txt_cen fs18 col_f">修改密码</div>
	  <div class="header_r fr fs16 col_t"><em class="fs20">&#xe62a;</em>编辑</div>
	</div>

	<form method="POST" action="password.html" name="pass_form" enctype="multipart/form-data">
	<div class="weui-cells mt55">
	  <div class="weui-cell fs16">
	    <div class="weui-cell__hd">
	      <p>旧密码：</p>
	    </div>
	    <div class="weui-cell__bd"><input autofocus type="password" name="pass1" class="fs16 inp_on bor_0 j_pass"></div>
	  </div>
	  <div class="weui-cell fs16">
	    <div class="weui-cell__hd">
	      <p>新密码：</p>
	    </div>
	    <div class="weui-cell__bd"><input type="password" name="pass2" class="fs16 inp_on bor_0 new_p" placeholder="请输入字母,数字组合6-20个字符"></div>
	  </div>
	  <div class="weui-cell fs16">
	    <div class="weui-cell__hd">
	      <p>确认密码：</p>
	    </div>
	    <div class="weui-cell__bd"><input type="password" name="pass3" class="fs16 inp_on bor_0 new_p2" placeholder="请输入字母,数字组合6-20个字符"></div>
	  </div>
	</div>
  </form>

  <div class="footer_but pd_rl15 box_s">
	   <a href="javascript:document.pass_form.submit();" class="weui-btn weui-btn_warn bg_gg">确认修改</a>
	</div>


  <script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/jquery-weui.min.js"></script>
	<script>
		$('.xgmm').on('click', '.weui-btn_warn', function() {
			$.toast.prototype.defaults.duration='1000';
			 var j_pass=$('.j_pass').val();
			 var new_p=$('.new_p').val();
			 var new_p2=$('.new_p2').val();
			 var reg =/^(?=.*[a-zA-Z]+)(?=.*[0-9]+)[a-zA-Z0-9]+$/
			 if(j_pass==""){
         $.toast("请先填写旧密码！", "text");
         return false;
			 }
			 if(new_p==""){
         $.toast("请填写新密码！", "text");
         return false;
			 }
			 if(new_p.length >=6 && reg.test(new_p)){
          console.log('密码正确！')
       }else{
           $.toast("请输入字母,数字组合6-20个字符!", "text");
           return false;
        }
       if(new_p2==""){
         $.toast("请填写确认密码！", "text");
         return false;
			 }
			 if(new_p!==new_p2){
			 	$.toast("两次填写密码不一致！", "text");
         return false;
			 }
		});
	</script>
</body>
</html>